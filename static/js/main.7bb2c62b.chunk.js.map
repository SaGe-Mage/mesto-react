{"version":3,"sources":["images/logo.svg","components/Header.js","images/edit-button.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/Api.js","utils/data.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","type","onClick","link","name","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","avatar","Edit","about","map","Footer","PopupWithForm","title","children","isOpen","onClose","onSubmit","onClickOverlay","method","noValidate","ImagePopup","myApi","options","this","_url","baseUrl","_headers","headers","path","parameters","fetch","then","res","ok","json","Promise","reject","status","_sendRequest","data","body","JSON","stringify","newCard","authorization","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","id","minLength","maxLength","value","onChange","target","required","EditAvatarPopup","onUpdateAvatar","setLink","placeholder","AddPlacePopup","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","document","removeEventListener","handleEscClose","handleClickOverlay","event","classList","contains","key","all","getUserInfo","getInitialCards","userData","catch","err","console","log","Provider","addEventListener","changeLikeCardStatus","newCards","c","deleteCard","filter","updateUserAvatar","updateUserInfo","addNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7bb2c62b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.2e17206c.svg\";","import logo from '../images/logo.svg';\n\nfunction Header() {\n\treturn(\n\t\t<header className=\"header\">\n\t\t\t<img src={logo} alt=\"Логотип Место Россия\" className=\"header__logo\" />\n\t\t</header>\n\t);\n}\n\nexport default Header;","export default __webpack_public_path__ + \"static/media/edit-button.72373403.svg\";","import React from \"react\";\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;","import React from \"react\";\n\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\n\tconst currentUser = React.useContext(CurrentUserContext);\n\n\tconst isOwn = card.owner._id === currentUser._id;\n\tconst isLiked = card.likes.some(i => i._id === currentUser._id);\n\n\tconst cardDeleteButtonClassName = (\n\t\t`element__delete ${isOwn ? 'element__delete_visible' : ''}`\n\t);\n\n\tconst cardLikeButtonClassName = (\n\t\t`element__like ${isLiked ? 'element__like_active' : ''}`\n\t);\n\n\tfunction handleCardClick() {\n\t\tonCardClick(card);\n\t}\n\n\tfunction handleLikeClick() {\n\t\tonCardLike(card);\n\t}\n\n\tfunction handleDeleteClick() {\n\t\tonCardDelete(card);\n\t}\n\n\treturn (\n\t\t<article className=\"element\">\n\t\t\t<button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}/>\n\t\t\t<img className=\"element__pic\" src={card.link} alt={card.name} onClick={handleCardClick}/>\n\t\t\t<div className=\"element__caption\">\n\t\t\t\t<h2 className=\"element__title\">{card.name}</h2>\n\t\t\t\t<div className=\"element__like-area\">\n\t\t\t\t\t<button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}/>\n\t\t\t\t\t<p className=\"element__like-count\">{card.likes.length}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</article>\n\t);\n}\n\nexport default Card;","import React from \"react\";\r\n\r\nimport Edit from \"../images/edit-button.svg\";\r\nimport Card from \"./Card\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main({onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete}) {\r\n\tconst currentUser = React.useContext(CurrentUserContext);\r\n\r\n\treturn (\r\n\t\t<main className=\"content\">\r\n\t\t\t<section className=\"profile\">\r\n\t\t\t\t<div className=\"profile__wrapper\">\r\n\t\t\t\t\t<div className=\"profile__avatar-overlay\">\r\n\t\t\t\t\t\t<img src={currentUser.avatar} alt=\"Аватар\" className=\"profile__avatar\"/>\r\n\t\t\t\t\t\t<button type=\"button\" className=\"profile__avatar-button\" onClick={onEditAvatar}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"profile__intro\">\r\n\t\t\t\t\t\t<div className=\"profile__intro-top\">\r\n\t\t\t\t\t\t\t<h1 className=\"profile__name\">{currentUser.name}</h1>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile}><img\r\n\t\t\t\t\t\t\t\tsrc={Edit}\r\n\t\t\t\t\t\t\t\talt=\"Кнопка редактировать\"\r\n\t\t\t\t\t\t\t\tclassName=\"profile__edit-icon\"/></button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<p className=\"profile__about\">{currentUser.about}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button type=\"button\" className=\"profile__add-button\" onClick={onAddPlace}/>\r\n\t\t\t</section>\r\n\r\n\t\t\t<section className=\"gallery\">\r\n\t\t\t\t{cards.map((card) => (\r\n\t\t\t\t\t<Card card={card}\r\n\t\t\t\t\t\t\t\tonCardClick={onCardClick}\r\n\t\t\t\t\t\t\t\tonCardLike={onCardLike}\r\n\t\t\t\t\t\t\t\tonCardDelete={onCardDelete}\r\n\t\t\t\t\t\t\t\tkey={card._id}/>\r\n\t\t\t\t))}\r\n\t\t\t</section>\r\n\t\t</main>\r\n\t);\r\n}\r\n\r\nexport default Main;","function Footer() {\n\treturn(\n\t\t<footer className=\"footer\">\n\t\t\t<p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n\t\t</footer>\n\t);\n}\n\nexport default Footer;","function PopupWithForm({title, name, children, isOpen, onClose, onSubmit, onClickOverlay}) {\n\treturn(\n\t\t<section className={`popup popup_place_${name} ${isOpen ? \"popup_is-opened\" : \"\"}`} onClick={onClickOverlay}>\n\t\t\t<div className=\"popup__container\">\n\t\t\t\t<button type=\"button\" className={`popup__close-button popup__close-button_place_${name}`} onClick={onClose}/>\n\t\t\t\t<form name={`${name}-popup`}\n\t\t\t\t\t\t\tmethod=\"GET\"\n\t\t\t\t\t\t\tclassName={`popup__content popup__content_place_${name}`}\n\t\t\t\t\t\t\tonSubmit={onSubmit}\n\t\t\t\t\t\t\tnoValidate>\n\t\t\t\t\t<h2 className=\"popup__title\">{title}</h2>\n\t\t\t\t\t{children}\n\t\t\t\t\t<button type=\"submit\" name=\"submit\" className={`popup__button popup__button_place_${name}`}>Сохранить\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</section>\n\t);\n}\n\nexport default PopupWithForm;","function ImagePopup({card, onClose, onClickOverlay}) {\n\treturn(\n\t\t<section className={`popup popup-big-pic popup_place_pic ${card.isOpen ? \"popup_is-opened\" : \"\"}`}\n\t\t\t\t\t\t onClick={onClickOverlay}>\n\t\t\t<div className=\"popup__container-pic\">\n\t\t\t\t<button type=\"button\" className=\"popup__close-button popup__close-button_place_pic\" onClick={onClose}/>\n\t\t\t\t<figure className=\"popup__item\">\n\t\t\t\t\t<img className=\"popup__pic\" src={card.link} alt={card.name}/>\n\t\t\t\t\t<figcaption className=\"popup__caption\">{card.name}</figcaption>\n\t\t\t\t</figure>\n\t\t\t</div>\n\t\t</section>\n\t);\n}\n\nexport default ImagePopup;","import {apiOption} from \"./data\";\r\n\r\nclass Api {\r\n\tconstructor(options) {\r\n\t\tthis._url = options.baseUrl;\r\n\t\tthis._headers = options.headers;\r\n\t}\r\n\r\n\t_sendRequest(path, parameters) {\r\n\t\treturn fetch(`${this._url}${path}`, parameters)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.ok) {\r\n\t\t\t\t\treturn res.json();\r\n\t\t\t\t}\r\n\t\t\t\treturn Promise.reject(`Ошибка: ${res.status}`);\r\n\t\t\t})\r\n\t}\r\n\r\n\tgetUserInfo() {\r\n\t\treturn this._sendRequest('users/me', {\r\n\t\t\theaders: this._headers\r\n\t\t});\r\n\t}\r\n\r\n\tgetInitialCards() {\r\n\t\treturn this._sendRequest(`cards`, {\r\n\t\t\theaders: this._headers\r\n\t\t});\r\n\t}\r\n\r\n\tupdateUserInfo(data) {\r\n\t\treturn this._sendRequest('users/me', {\r\n\t\t\tmethod: 'PATCH',\r\n\t\t\theaders: this._headers,\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tname: data.name,\r\n\t\t\t\tabout: data.about\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\taddNewCard(newCard) {\r\n\t\treturn this._sendRequest('cards', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: this._headers,\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tname: newCard.name,\r\n\t\t\t\tlink: newCard.link\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\tchangeLikeCardStatus(card, isLiked) {\r\n\t\treturn this._sendRequest(`cards/likes/${card}`, {\r\n\t\t\tmethod: isLiked ? 'DELETE' : 'PUT',\r\n\t\t\theaders: this._headers\r\n\t\t});\r\n\t}\r\n\r\n\tdeleteCard(card) {\r\n\t\treturn this._sendRequest(`cards/${card}`, {\r\n\t\t\tmethod: 'DELETE',\r\n\t\t\theaders: this._headers\r\n\t\t});\r\n\t}\r\n\r\n\tupdateUserAvatar(avatar) {\r\n\t\treturn this._sendRequest('users/me/avatar', {\r\n\t\t\tmethod: 'PATCH',\r\n\t\t\theaders: this._headers,\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tavatar: avatar.avatar\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n}\r\n\r\nconst myApi = new Api(apiOption);\r\n\r\nexport default myApi;","export const apiOption = {\r\n\tbaseUrl: 'https://mesto.nomoreparties.co/v1/cohort-18/',\r\n\theaders: {\r\n\t\tauthorization: 'c769d20f-6915-4a77-9f12-54820513a0a5',\r\n\t\t'Content-Type': 'application/json'\r\n\t}\r\n}","import React from \"react\";\n\nimport PopupWithForm from \"./PopupWithForm\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser, onClickOverlay}) {\n\tconst currentUser = React.useContext(CurrentUserContext);\n\n\tconst [name, setName] = React.useState(currentUser.name);\n\tconst [description, setDescription] = React.useState(currentUser.about);\n\n\tReact.useEffect(() => {\n\t\tsetName(currentUser.name);\n\t\tsetDescription(currentUser.about);\n\t}, [currentUser]);\n\n\tfunction handleChangeName(e) {\n\t\tsetName(e.target.value);\n\t}\n\n\tfunction handleChangeAbout(e) {\n\t\tsetDescription(e.target.value);\n\t}\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\n\t\tonUpdateUser({\n\t\t\tname,\n\t\t\tabout: description,\n\t\t});\n\t}\n\n\treturn (\n\t\t<PopupWithForm\n\t\t\ttitle=\"Редактировать профиль\"\n\t\t\tname=\"edit\"\n\t\t\tisOpen={isOpen}\n\t\t\tonClose={onClose}\n\t\t\tonSubmit={handleSubmit}\n\t\t\tonClickOverlay={onClickOverlay}\n\t\t>\n\t\t\t<input type=\"text\"\n\t\t\t\t\t\t name=\"name\"\n\t\t\t\t\t\t className=\"popup__input popup__input_place_name\"\n\t\t\t\t\t\t id=\"name-input\"\n\t\t\t\t\t\t minLength=\"2\"\n\t\t\t\t\t\t maxLength=\"40\"\n\t\t\t\t\t\t value={name}\n\t\t\t\t\t\t onChange={handleChangeName}\n\t\t\t\t\t\t required/>\n\t\t\t<span className=\"popup__input-error\" id=\"name-input-error\"/>\n\n\t\t\t<input type=\"text\"\n\t\t\t\t\t\t name=\"about\"\n\t\t\t\t\t\t className=\"popup__input popup__input_place_about\"\n\t\t\t\t\t\t id=\"about-input\"\n\t\t\t\t\t\t minLength=\"2\"\n\t\t\t\t\t\t maxLength=\"400\"\n\t\t\t\t\t\t value={description}\n\t\t\t\t\t\t onChange={handleChangeAbout}\n\t\t\t\t\t\t required/>\n\t\t\t<span className=\"popup__input-error\" id=\"about-input-error\"/>\n\t\t</PopupWithForm>\n\t)\n}\n\nexport default EditProfilePopup;","import React from \"react\";\n\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar, onClickOverlay}) {\n\tconst [link, setLink] = React.useState('');\n\n\tReact.useEffect(() => {\n\t\tif (isOpen) {\n\t\t\tsetLink('');\n\t\t}\n\t}, [isOpen]);\n\n\tfunction handleChangeAvatar(e) {\n\t\tsetLink(e.target.value);\n\t}\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\n\t\tonUpdateAvatar({\n\t\t\tavatar: link\n\t\t});\n\t}\n\n\treturn (\n\t\t<PopupWithForm\n\t\t\ttitle=\"Обновить аватар\"\n\t\t\tname=\"avatar\"\n\t\t\tisOpen={isOpen}\n\t\t\tonClose={onClose}\n\t\t\tonSubmit={handleSubmit}\n\t\t\tonClickOverlay={onClickOverlay}\n\t\t>\n\t\t\t<input type=\"url\"\n\t\t\t\t\t\t name=\"avatar\"\n\t\t\t\t\t\t className=\"popup__input popup__input_place_avatar\"\n\t\t\t\t\t\t placeholder=\"Ссылка на аватар\"\n\t\t\t\t\t\t value={link}\n\t\t\t\t\t\t id=\"avatar-input\"\n\t\t\t\t\t\t onChange={handleChangeAvatar}\n\t\t\t\t\t\t required/>\n\t\t\t<span className=\"popup__input-error\" id=\"avatar-input-error\"/>\n\t\t</PopupWithForm>\n\t)\n}\n\nexport default EditAvatarPopup;","import React from 'react';\n\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({isOpen, onClose, onAddPlace, onClickOverlay}) {\n\tconst [name, setName] = React.useState('');\n\tconst [link, setLink] = React.useState('');\n\n\tReact.useEffect(() => {\n\t\tif (isOpen) {\n\t\t\tsetName('');\n\t\t\tsetLink('');\n\t\t}\n\t}, [isOpen]);\n\n\tfunction handleAddCardName(e) {\n\t\tsetName(e.target.value);\n\t}\n\n\tfunction handleAddCardLink(e) {\n\t\tsetLink(e.target.value);\n\t}\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\n\t\tonAddPlace({\n\t\t\tname,\n\t\t\tlink\n\t\t});\n\t}\n\n\treturn (\n\t\t<PopupWithForm\n\t\t\ttitle=\"Новое место\"\n\t\t\tname=\"add\"\n\t\t\tonSubmit={handleSubmit}\n\t\t\tisOpen={isOpen}\n\t\t\tonClose={onClose}\n\t\t\tonClickOverlay={onClickOverlay}\n\t\t>\n\t\t\t<input type=\"text\"\n\t\t\t\t\t\t name=\"name\"\n\t\t\t\t\t\t placeholder=\"Название\"\n\t\t\t\t\t\t className=\"popup__input popup__input_place_location\"\n\t\t\t\t\t\t id=\"location-input\"\n\t\t\t\t\t\t minLength=\"2\"\n\t\t\t\t\t\t maxLength=\"30\"\n\t\t\t\t\t\t value={name}\n\t\t\t\t\t\t onChange={handleAddCardName}\n\t\t\t\t\t\t required/>\n\t\t\t<span className=\"popup__input-error\" id=\"location-input-error\"/>\n\n\t\t\t<input type=\"url\"\n\t\t\t\t\t\t name=\"link\"\n\t\t\t\t\t\t placeholder=\"Ссылка на картинку\"\n\t\t\t\t\t\t className=\"popup__input popup__input_place_link\"\n\t\t\t\t\t\t id=\"link-input\"\n\t\t\t\t\t\t value={link}\n\t\t\t\t\t\t onChange={handleAddCardLink}\n\t\t\t\t\t\t required/>\n\t\t\t<span className=\"popup__input-error\" id=\"link-input-error\"/>\n\t\t</PopupWithForm>\n\t)\n}\n\nexport default AddPlacePopup;","import React from \"react\";\r\n\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport myApi from \"../utils/Api\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\n\r\nfunction App() {\r\n\tconst [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n\tconst [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n\tconst [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n\tconst [selectedCard, setSelectedCard] = React.useState({isOpen: false, link: \"\", name: \"\"});\r\n\tconst [currentUser, setCurrentUser] = React.useState({});\r\n\tconst [cards, setCards] = React.useState([]);\r\n\r\n\tfunction handleEditAvatarClick() {\r\n\t\tsetIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\r\n\t\tdocument.addEventListener('keydown', handleEscClose);\r\n\t}\r\n\r\n\tfunction handleEditProfileClick() {\r\n\t\tsetIsEditProfilePopupOpen(!isEditProfilePopupOpen);\r\n\t\tdocument.addEventListener('keydown', handleEscClose);\r\n\t}\r\n\r\n\tfunction handleAddPlaceClick() {\r\n\t\tsetIsAddPlacePopupOpen(!isAddPlacePopupOpen);\r\n\t\tdocument.addEventListener('keydown', handleEscClose);\r\n\t}\r\n\r\n\tfunction handleCardClick(card) {\r\n\t\tconst {link, name} = card;\r\n\t\tsetSelectedCard({isOpen: true, link: link, name: name});\r\n\t\tdocument.addEventListener('keydown', handleEscClose);\r\n\t}\r\n\r\n\tfunction closeAllPopups() {\r\n\t\tsetIsAddPlacePopupOpen(false);\r\n\t\tsetIsEditProfilePopupOpen(false);\r\n\t\tsetIsEditAvatarPopupOpen(false);\r\n\t\tsetSelectedCard({isOpen: false, link: \"\", name: \"\"});\r\n\r\n\t\tdocument.removeEventListener('keydown', handleEscClose);\r\n\t}\r\n\r\n\tfunction handleClickOverlay(event) {\r\n\t\tif (event.target.classList.contains('popup_is-opened')) {\r\n\t\t\tcloseAllPopups();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleEscClose(event) {\r\n\t\tif (event.key === 'Escape') {\r\n\t\t\tcloseAllPopups();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleUpdateUser(data) {\r\n\t\tmyApi.updateUserInfo(data)\r\n\t\t\t.then(() => {\r\n\t\t\t\tsetCurrentUser({...currentUser, ...data});\r\n\t\t\t\tcloseAllPopups();\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(`Что-то пошло не так: ${err}`))\r\n\t}\r\n\r\n\tfunction handleUpdateAvatar(data) {\r\n\t\tmyApi.updateUserAvatar(data)\r\n\t\t\t.then(() => {\r\n\t\t\t\tsetCurrentUser({...currentUser, ...data});\r\n\t\t\t\tcloseAllPopups();\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(`Что-то пошло не так: ${err}`))\r\n\t}\r\n\r\n\tfunction handleCardLike(card) {\r\n\t\tconst isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n\t\tmyApi.changeLikeCardStatus(card._id, isLiked)\r\n\t\t\t.then((newCard) => {\r\n\t\t\t\tconst newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n\t\t\t\tsetCards(newCards);\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(`Что-то пошло не так: ${err}`)\r\n\t\t\t);\r\n\t}\r\n\r\n\tfunction handleCardDelete(card) {\r\n\t\tmyApi.deleteCard(card._id)\r\n\t\t\t.then(() => {\r\n\t\t\t\tconst newCards = cards.filter((c) => c._id !== card._id);\r\n\t\t\t\tsetCards(newCards);\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(`Что-то пошло не так: ${err}`)\r\n\t\t\t);\r\n\t}\r\n\r\n\tfunction handleAddPlaceSubmit(card) {\r\n\t\tmyApi.addNewCard(card)\r\n\t\t\t.then((newCard) => {\r\n\t\t\t\tsetCards([newCard, ...cards]);\r\n\t\t\t\tcloseAllPopups();\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(`Что-то пошло не так: ${err}`)\r\n\t\t\t);\r\n\t}\r\n\r\n\tReact.useEffect(() => {\r\n\t\tPromise.all([myApi.getUserInfo(), myApi.getInitialCards()])\r\n\t\t\t.then(([userData, cards]) => {\r\n\t\t\t\tsetCurrentUser(userData);\r\n\t\t\t\tsetCards(cards);\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(`Что-то пошло не так: ${err}`))\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<CurrentUserContext.Provider value={currentUser}>\r\n\t\t\t<div className=\"page\">\r\n\t\t\t\t<Header/>\r\n\r\n\t\t\t\t<Main\r\n\t\t\t\t\tonEditProfile={handleEditProfileClick}\r\n\t\t\t\t\tonAddPlace={handleAddPlaceClick}\r\n\t\t\t\t\tonEditAvatar={handleEditAvatarClick}\r\n\t\t\t\t\tonCardClick={handleCardClick}\r\n\t\t\t\t\tcards={cards}\r\n\t\t\t\t\tonCardLike={handleCardLike}\r\n\t\t\t\t\tonCardDelete={handleCardDelete}/>\r\n\r\n\t\t\t\t<Footer/>\r\n\r\n\t\t\t\t<PopupWithForm title=\"Вы уверены?\" name=\"delete\"/>\r\n\r\n\t\t\t\t<EditAvatarPopup\r\n\t\t\t\t\tisOpen={isEditAvatarPopupOpen}\r\n\t\t\t\t\tonClose={closeAllPopups}\r\n\t\t\t\t\tonUpdateAvatar={handleUpdateAvatar}\r\n\t\t\t\t\tonClickOverlay={handleClickOverlay}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<EditProfilePopup\r\n\t\t\t\t\tisOpen={isEditProfilePopupOpen}\r\n\t\t\t\t\tonClose={closeAllPopups}\r\n\t\t\t\t\tonUpdateUser={handleUpdateUser}\r\n\t\t\t\t\tonClickOverlay={handleClickOverlay}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<AddPlacePopup\r\n\t\t\t\t\tisOpen={isAddPlacePopupOpen}\r\n\t\t\t\t\tonClose={closeAllPopups}\r\n\t\t\t\t\tonAddPlace={handleAddPlaceSubmit}\r\n\t\t\t\t\tonClickOverlay={handleClickOverlay}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<ImagePopup\r\n\t\t\t\t\tcard={selectedCard}\r\n\t\t\t\t\tonClose={closeAllPopups}\r\n\t\t\t\t\tonClickOverlay={handleClickOverlay}\r\n\t\t\t\t/>\r\n\r\n\t\t\t</div>\r\n\t\t</CurrentUserContext.Provider>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}